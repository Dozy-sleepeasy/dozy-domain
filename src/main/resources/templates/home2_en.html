<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Dr. Dozy</title>
    <link rel="stylesheet" href="dist/fullview.css">
    <link rel="stylesheet" href="css/animate.compat.css">
    <link rel="stylesheet" href="css/theme-2.css">
    <link rel="stylesheet" href="css/main2.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/responsive2.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" />
    
    
    <script src="js/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0.0/jquery.counterup.min.js"></script>
    <script src="dist/fullview.min.js"></script>
    <script src="https://kit.fontawesome.com/2d41a59536.js" crossorigin="anonymous"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XRT4PQN3Q6"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XRT4PQN3Q6');
    </script>

    <!-- Facebook Pixel Code -->
<script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '603099337475763');
  fbq('track', 'PageView');
    
    	fbq('track', 'Schedule');
</script>
<noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=603099337475763&ev=PageView&noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->
</head>

<body>
    <div class="floating-buttons">
        <a href="https://www.instagram.com/dr.dozy_official/" class="icon-circle" target="_blank">
        <i class="fab fa-instagram" aria-hidden="true"></i>
        </a>
    </div>
    <div class="logo">
    <img src="src/logo.svg">
    </div>
    <div class="start">
                <a href="#section6" style="text-decoration: none;"><button type="button" class="start_bt">Start</button></a>
    </div>
        <div id="fullview">
        
        <div id="section1" class="active" data-tooltip="Section 1 Title" style="background: radial-gradient(farthest-side at 90% 50%, #3B379F, #0F0F0F);">
            
        <div class="cont">
            
        <div class="whole3">
        <h4>Start your morning refreshed</h4>
        <h3 style="font-weight: 600">Get your own sleep doctor!<br> <span>Dr. Dozy launches now</span></h3>
        
        <div class="rest3 jump" id="navbar">
        <a href="#section6" style="text-decoration: none;"><button type="button" class="start_bt">Start</button></a>
            </div>
        </div>
            
        <div class="whole4">
            <img src="src/mockup.png">
        </div>
        </div>
        <a id="down" class="ca3-scroll-down-link ca3-scroll-down-arrow" data-ca3_iconfont="ETmodules" data-ca3_icon=""></a>
            
        </div>
        
        
        <div id="section2" data-tooltip="Section 2 Title">
            
            <div class="toge">
            <div class="lefty" id="fadein" style="animation-delay: 0.2s;animation-duration: 1s;">
                <h3>Get deep sleep with <br> 
                        Dr. Dozy’s ASMR </h3>
                <p>Sleep inducing sounds and monaural beats created personally by Dozy will guide you to quality sleep quickly and easily.</p>
            </div>
            <div class="righty2">
                <img id="slide" style="animation-delay: 0.3s;animation-duration: 1.4s;" src="src/first.png">
                <img id="slide-right" style="margin: 30px 0px 30px 50px;animation-delay: 1.3s;animation-duration: 1.4s;" src="src/second.png">
                <img id="slide-last" src="src/third.png" style="animation-delay: 2.3s;animation-duration: 1.4s;">
            </div>
                </div>
            <a id="down" class="ca3-scroll-down-link ca3-scroll-down-arrow" data-ca3_iconfont="ETmodules" data-ca3_icon=""></a>
            
        </div>
        
        
        <div id="section3" data-tooltip="Section 3 Title">
            <div class="toge">
            <div class="lefty">
                <h3>Track your sleep cycle with <br> the smart Dr. Dozy</h3>
                <p>Dr. Dozy’s smart Artificial Intelligence checks how well you sleep by tracking your sleep cycle. </p>
            </div>
            <div class="righty2">
                <img id="zoomIn" src="src/graph3.png">
            </div>
                </div>
        <a id="down" class="ca3-scroll-down-link ca3-scroll-down-arrow" data-ca3_iconfont="ETmodules" data-ca3_icon=""></a>
        
        </div>
        
        <div id="section4" data-tooltip="Section 4 Title">
            <div class="toge">
            <div class="lefty">
                <h3>Get personalized sleep solutions <br> from Dr. Dozy </h3>
                <p>We provide you with solutions to help you get a good night’s sleep through personalized sleep reports. </p>
            </div>
            <div class="righty2">
                <div class="imgtable" id="fadeinin">
                <div class="ta" id="sliding" style="animation-delay: 0.3s;animation-duration: 1.4s;"><img src="src/slide1.png"></div>
                <div class="ta" id="sliding2" style="animation-delay: 0.3s;animation-duration: 1.4s;"><img src="src/slide2.png"></div>
                <div class="ta" id="sliding3"><img src="src/slide3.png" style="animation-delay: 2.3s;animation-duration: 1.4s;"></div>
                </div>
            </div>
                </div>
            <a id="down" class="ca3-scroll-down-link ca3-scroll-down-arrow" data-ca3_iconfont="ETmodules" data-ca3_icon=""></a>
        </div>
            
        <div id="section5" data-tooltip="Section 5 Title">
            <div class="toge">
            <div class="lefty">
                <h3>Dr. Dozy’s special <br> smart alarm</h3>
                <p>Dr. Dozy finds you the optimal time to wake up feeling refreshed. </p>
            </div>
            <div class="righty2">
                <img src="src/alarm3.png" id="final" >
            </div>
                </div>
            <a id="down" class="ca3-scroll-down-link ca3-scroll-down-arrow" data-ca3_iconfont="ETmodules" data-ca3_icon=""></a>
        </div>
            
        <div id="section6" data-tooltip="Section 6 Title">
        <div class="whole">
        <h4>Get first.</h4>
        <h3>
            Pre-reserve now and get a 30-day premium care free trial.</h3>
        <div class="rest">

        <h2 id="demo"></h2> 
        
        <form method="post" action="#" class="order-form">
        <div class="checkboxes">
        <label class="container">
        <input type="checkbox" value="iOS" id="iOS" checked="checked" name="iOS">iOS<span class="checkmark"></span></label>
        
        <label class="container">
        <input type="checkbox" value="android" id="android" name="android">Android<span class="checkmark"></span></label>
        </div>
        <div class="buttons2">
        <input type="tel" placeholder="Email Address" id="telnum" name="telnum">
        <input type="button" name="name" value="Send" id="send" onclick="sendEmail()" ></div>
        
        <div class="checkboxone">
        <label class="container low" style="color:#999da0;">
        <input type="checkbox" value="iOS" id="iOS" checked="checked">I agree to Pluviophile Co., Ltd.’s collection/use of my personal information.<span class="checkmark"></span></label></div></form>
            </div>
        </div>
        <a id="down" class="ca3-scroll-down-link ca3-scroll-down-arrow" data-ca3_iconfont="ETmodules" data-ca3_icon=""></a>
        </div>

    </div>


</body>
<script type="text/javascript"src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>
    
    <script type="text/javascript">
        // emailJS 사용하기 위한 초기화 작업
        (function() {
            emailjs.init("user_FHcm6IarN4nZTRxxaHUHd");
        })();
        
        
        function sendEmail() {            
        var type = '';

        // input 값 받아오기
        if (document.querySelector('#iOS').checked) {
            type = 'ios';
            console.log("ios");
        }
        else if (document.querySelector('#android').checked) {
            type = 'android';
            console.log("android");
        }
        // input 값 받아오기
        const phoneNum = document.getElementById('telnum').value;
        console.log(phoneNum);

        // 양식 검증 : 빈칸이 있는지 체크 + 이메일 양식 체크
        if(type === ''){
            alert('Please select your phone type')
            return;
        }

        if(phoneNum === ''){
            alert('Please enter your email address')
            return;
        }
        var url = window.location.href;

        var form = {
                "type" : type,
                "phoneNum" : phoneNum,
                "url": url,
        }
        var token = $("meta[name='_csrf']").attr("content");
        var header = $("meta[name='_csrf_header']").attr("content");
        $.ajax({
            url: '/preUser/home',
            type: 'POST',
            contentType: 'application/json; charset=UTF-8',
            data: JSON.stringify(form),
            dataType:"text",
            beforeSend : function(xhr){
                xhr.setRequestHeader(header, token);
            },
            success:function(data, jqXHR) {
                window.location.replace("success.html");
            },
            error:function(jqXHR,error) {alert(error)},
            complete:function(jqXHR) { }
        })
    }
    </script>

    <script>
        var bool = false;
    var wakeup = 0;
    var newtime = 0;
        
    $('#iOS').on('click', function(){
    $('#android').prop('checked', false); 
    $('#iOS').prop('checked', true); 
    });
        
    $('#android').on('click', function(){
    $('#iOS').prop('checked', false); 
    $('#android').prop('checked', true); 
    });
        
    function animateValue(el, start, end) {
      if (start === end) {
        return; 
      }
      const duration = 3000;
      const range = end - start;
      let current = start;
      const increment = end > start ? 1 : -1;
      const stepTime = Math.abs(Math.floor(duration / range));
      const timer = setInterval(() => {
        current += increment;
          if (el === null) {   return;    }
          else{
                el.innerHTML = current;
                if (current == end) {
                  clearInterval(timer);
                }
          }

      }, stepTime)
    }
        
    function toHHMMSS(sec_num) {
    var hours   = Math.floor(sec_num);
    var minutes = sec_num - Math.floor(sec_num)

    if (hours   < 10) {hours   = "0"+hours;}
    if (minutes == 0.5) {minutes = "30";}
    
    animateValue(document.getElementById('value'), 0, hours);
    animateValue(document.getElementById('value2'), 0, minutes);
    animateValue(document.getElementById('demo2'), 0, minutes);

    }
        
    // Set the date we're counting down to
    var countDownDate = new Date("Jan 1, 2022 20:00:00").getTime();

    // Update the count down every 1 second
    var x = setInterval(function() {

      // Get today's date and time
      var now = new Date().getTime();

      // Find the distance between now and the count down date
      var distance = countDownDate - now;

      // Time calculations for days, hours, minutes and seconds
      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      var seconds = Math.floor((distance % (1000 * 60)) / 1000);
        
      days = ("0" + days).slice(-2);
      hours = ("0" + hours).slice(-2);
      minutes = ("0" + minutes).slice(-2);
      seconds = ("0" + seconds).slice(-2);
        
      // Output the result in an element with id="demo"
      document.getElementById("demo").innerHTML = days + " : " + hours + " : "
      + minutes + " : " + seconds;

      // If the count down is over, write some text 
      if (distance < 0) {
        clearInterval(x);
        document.getElementById("demo").innerHTML = "End of Pre-launch";
      }
    }, 1000);
        var current = "";
        
    $('#iOS').on('click', function(){
    $('#android').prop('checked', false); 
    $('#iOS').prop('checked', true); 
    });
        
    $('#android').on('click', function(){
    $('#iOS').prop('checked', false); 
    $('#android').prop('checked', true); 
    });
        
    function animateValue(el, start, end) {
      if (start === end) {
        return; 
      }
      const duration = 3000;
      const range = end - start;
      let current = start;
      const increment = end > start ? 1 : -1;
      const stepTime = Math.abs(Math.floor(duration / range));
      const timer = setInterval(() => {
        current += increment;
          if (el === null) {   return;    }
          else{
                el.innerHTML = current;
                if (current == end) {
                  clearInterval(timer);
                }
          }

      }, stepTime)
    }
        
    function toHHMMSS(sec_num) {
    var hours   = Math.floor(sec_num);
    var minutes = sec_num - Math.floor(sec_num)

    if (hours   < 10) {hours   = "0"+hours;}
    if (minutes == 0.5) {minutes = "30";}
    
    animateValue(document.getElementById('value'), 0, hours);
    animateValue(document.getElementById('value2'), 0, minutes);
    animateValue(document.getElementById('demo2'), 0, minutes);

    }

    
    $(document).ready(function () {
        var fv = $("#fullview").fullView({
            navbar: "#navbar",
            dots: true,
            dotsPosition: 'right',
            dotsTooltips: true,
            backToTop: true,
            easing: "swing",
            mouseScrolling: true,
            keyboardScrolling: true,
            onScrollEnd: function (currentView, preView) {
                current = currentView[0].outerHTML.slice(16,17);
                if (current != "1") {
                    //$('.whole3').css({'display':'none'});
                }
                if (current == "2") {
                    $('#fadein').css({'display':'block'});
                    $('#slide').css({'display':'block'});
                    $('#slide-right').css({'display':'block'});
                    $('#slide-last').css({'display':'block'});

                }
                else if (current == "3") {
                    $('#fadein2').css({'display':'block'});
                    $('#zoomIn').css({'display':'block'});
                }
                else if (current == "4") {
                    $('#fadein3').css({'display':'block'});
                    $('#fadeinin').css({'display':'flex'});
                    $('#sliding').css({'display':'block'});
                    $('#sliding2').css({'display':'block'});
                    $('#sliding3').css({'display':'block'});
                }
                else if (current == "5") {
                    $('#fadein4').css({'display':'block'});
                    $('#final').css({'display':'block'});
                }
            }

        });
        
        $("#down").click(function () { 
            fv.data('fullView').scrollDown();   
        });
        $("#select").change(function () {
            // To Scroll to Specfic Section
            fv.data("fullView").scrollTo($(this).val());
          });
        

        
        });
                      
    </script>
</html>